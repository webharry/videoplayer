define("js/script/utils",[],function(){function i(i,e){i=String(i).split("."),e=String(e).split(".");try{for(var o=0,r=Math.max(i.length,e.length);o<r;o++){var s=isFinite(i[o])&&Number(i[o])||0,n=isFinite(e[o])&&Number(e[o])||0;if(s<n)return-1;if(s>n)return 1}}catch(i){return-1}return 0}function e(){var i=document.createElement("video");return"function"==typeof i.canPlayType&&("probably"==i.canPlayType('video/mp4; codecs="avc1.42E01E"')||"probably"==i.canPlayType('video/mp4; codecs="avc1.58A01E"')||"probably"==i.canPlayType('video/mp4; codecs="avc1.4D401E"')||"probably"==i.canPlayType('video/mp4; codecs="avc1.64001E"'))}function o(){var e=r;return!!(e.browser.firefox&&i(e.browser.firefox.version,"48.0")>=0)||!(e.browser.opera&&i(e.browser.opera.version,"40.0")<0)&&e.browser.chrome&&i(e.browser.chrome.version,"40.0")>=0}var r={},s=navigator.userAgent.toLowerCase(),n=s.toLowerCase();r.browser={},r.os={},r.phone={},r.mobile=!1,n.indexOf("mobile")>-1&&(r.mobile=!0);var a,d,t={android_1:/android[\s\/]([\d\.]+)/i,android_2:/android/i,android_3:/MIDP-/i,ipod_1:/iPod\stouch;\sCPU\siPhone\sos\s([\d_]+)/i,ipod_100:/iPod.*os\s?([\d_\.]+)/i,iphone:/iPhone;\sCPU\siPhone\sos\s([\d_]+)/i,iphone_100:/iPhone.*os\s?([\d_\.]+)/i,ipad_1:/ipad;\scpu\sos\s([\d_]+)/i,ipad_2:/ipad([\d]+)?/i,windows:/windows\snt\s([\d\.]+)/i,mac:/Macintosh.*mac\sos\sx\s([\d_\.]+)/i,linux:/Linux/i};for(var w in t)if(a=t[w].exec(n)){d=w.replace(/_\d+/,""),r.os[d]=!0,r.os.name=d,a[1]&&(r.os.version=a[1].replace(/_/g,"."));break}(r.os.iphone||r.os.ipad||r.os.ipod)&&(r.os.ios=!0);var p,l,c={wechat:/MicroMessenger\/([\d\.]+)/i,ipadqq:/IPadQQ\/([\d\.]+)/i,mqq:/qq\/([\d\.]+)/i,qzone:/QZONEJSSDK\/([\d\.]+)/i,mqqbrowser:/mqqbrowser\/([\d\.]+)/i,qqbrowser:/[^m]QQBrowser\/([\d\.]+)/i,x5:/tbs\/(\d+)/i,uc:/UCBrowser\/([\d\.]+)/i,safari_1:/Version\/(([\d\.]+))\sSafari\/[\d\.]+/i,safari_2:/Safari\/([\d\.]+)/i,firefox:/Firefox\/([\d\.]+)/i,opera:/OPR\/([\d\.]+)/i,ie_1:/MSIE\s([\d\.]+)/i,ie_2:/(trident\/\d\.\d)/i,ie_3:/(Edge)\/\d+\.\d+/i,weibo:/weibo__([\d\.]+)/i,qqnews:/qqnews\/([\d\.]+)/i,qqlive_1:/QQLiveBrowser\/([\d\.]+)/i,qqlive_2:/QQLiveHDBrowser\/([\d\.]+)/i,kuaibao:/qnreading\/([\d\.]+)/i,liebao:/LieBaoFast\/([\d\.]+)/i,douban:/com\.douban\.frodo\/([\d\.]+)/i,miuibrowser:/MiuiBrowser/i,baidu:/baiduboxapp/i,browser360:/360browser/i,oppobrowser:/OppoBrowser/i,chrome_1:/CriOS\/([\d\.]+)/i,chrome_2:/Chrome\/([\d\.]+)/i,qqdownloader:/qqdownloader\/([\d\.]+)/i};for(var u in c)if(p=c[u].exec(n)){if(l=u.replace(/_\d+/,""),r.browser[l])break;r.browser[l]={version:p[1]}}r.os.android&&r.browser.safari&&delete r.browser.safari,r.browser.chrome&&r.browser.safari&&delete r.browser.safari,r.browser.ie&&r.browser.ie.version&&r.browser.ie.version.indexOf("trident")>-1&&(r.browser.ie.version.indexOf("6.0")>-1?r.browser.ie.version="10":r.browser.ie.version.indexOf("5.0")>-1?r.browser.ie.version="9":r.browser.ie.version.indexOf("4.0")>-1?r.browser.ie.version="8":r.browser.ie.version="11");var f,v={ipod:/iPod/i,ipad:/iPad/i,iphone:/iPhone/i,huawei_1:/HUAWEI([\w_-]+)/i,huawei_2:/(CHM-\w+)/i,huawei_3:/(HonorChe)/i,huawei_4:/HONORPLK/i,huawei_5:/(Che\d+-CL\d+)/i,huawei_6:/(H\d+-L\d+)/i,huawei_100:/HUAWEI/i,xiaomi_1:/(HM\sNOTE)/i,xiaomi_2:/(HM\s\w+)/i,xiaomi_3:/(MI\s\w+)/i,xiaomi_4:/(MI-ONE\sPlus)/i,xiaomi_5:/(M1)\sBuild/i,xiaomi_6:/(HM\d+)/i,xiaomi_7:/Xiaomi[\s_]?([\w_]+)/i,samsung_1:/(GT-\w+)/i,samsung_2:/(SCH-\w+)/i,samsung_3:/(SM-\w+)/i,vivo:/vivo\s(\w+)/i,oneplus:/ONEPLUS-([a-z0-9]+)/i,lenovo_1:/Lenovo[\s-]?([\w-]+)/i,lenovo_100:/Lenovo/i,zte_1:/ZTE\s?(\w+)?/i,zte_2:/ZTE/i,coolpad_1:/Coolpad\s(\w+)/i,coolpad_100:/Coolpad/i,oppo_1:/OPPO\s?(\w+)/i,oppo_2:/(R7Plus|R8007|R801|R831S|R8205)/i,oppo_100:/OPPO/i,meizu_1:/(MX\d+)/i,meizu_2:/(m\d+\snote)\sBuild/i,htc_1:/HTC\s?(\w+)/i,htc_100:/HTC/i,tcl:/TCL\s(\w+)/i,lephone:/lephone\s(\w+)/i,lg:/LG[\s-]?(\w+)/i,galaxy:/(galaxy\d+)/,hisense_1:/Hisense/i,hisense_2:/HS-(\w+)/i,philips:/Philips\s?(\w+)?/i,"金立":/(GN\w+)\sBuild/i,sonny:/sonny/i,"天语":/K-Touch/i};for(var _ in v)if(f=v[_].exec(n)){r.phone.name=_.replace(/_\d+/,""),f[1]&&(r.phone.version=f[1].replace(/^[_-]/gi,""));break}return{os:r.os,mobile:r.mobile,ref:function(i){return(r.os.ios?4:r.os.android?3:1)+","+(/vod/i.test(i)?1:/video/i.test(i)?2:/vipexp/i.test(i)?6:/vip/i.test(i)?5:/live/i.test(i)?7:0)},device:function(){var s=r;return s.os.mac?s.browser.safari&&(i(s.browser.safari.version,"9.0")<0||i(s.os.version,"10.10")<0)?"flash":s.browser.firefox&&i(s.browser.firefox.version,"48.0")<0?"flash":e()?"html5hd":"flash":s.os.windows?o()&&e()?"html5hd":"flash":s.os.linux?"flash":s.os.ios?s.os.ipad?"ipadh5":"h5":s.os.android?e()?"h5":"mp4link":"flash"},getuuid:function(i,e){var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];if(e=e||r.length,i)for(o=0;o<i;o++)s[o]=r[0|Math.random()*e];else{var n;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",o=0;o<36;o++)s[o]||(n=0|16*Math.random(),s[o]=r[19==o?3&n|8:n])}return s.join("")}}}),define("js/script/videoplayer",["js/script/utils"],function(i){function e(i){require(["js/script/flash"],function(e){e.init(i)})}function o(i){require(["js/script/html5"],function(e){console.log(i),e.init(i)})}var r={};return{init:function(s){r=$.extend(!0,r,s);var n=i.device();r.ref=i.ref(r.type),r.playerId=i.getuuid(15,10),r.os=i.os,"flash"!=n?o(r):e(r)}}});